# ================================================
# 1. SOLUTION SD CARD (Configuration "Blindée")
# ================================================
CONFIG_DCACHE=n
CONFIG_DISK_ACCESS=y
CONFIG_FILE_SYSTEM=y
CONFIG_FAT_FILESYSTEM_ELM=y
CONFIG_FS_FATFS_LFN=y
CONFIG_FS_FATFS_CODEPAGE=437
CONFIG_FS_FATFS_MAX_LFN=255

# ================================================
# 2. RESEAU (ADAPTATION MQTT)
# ================================================
CONFIG_NETWORKING=y
CONFIG_NET_SOCKETS=y
CONFIG_POSIX_API=y
CONFIG_NET_IPV4=y

# ### CHANGE : MQTT a besoin de TCP, pas d'UDP ###
CONFIG_NET_TCP=y
CONFIG_NET_UDP=n

# ### CHANGE : Activation de la lib MQTT ###
CONFIG_MQTT_LIB=y

# ### CHANGE : Buffers réseaux (CRITIQUE pour éviter les blocages MQTT) ###
CONFIG_NET_PKT_RX_COUNT=16
CONFIG_NET_PKT_TX_COUNT=16
CONFIG_NET_BUF_RX_COUNT=16
CONFIG_NET_BUF_TX_COUNT=16

# Configuration IP Statique
CONFIG_NET_CONFIG_SETTINGS=y
CONFIG_NET_CONFIG_MY_IPV4_ADDR="192.168.137.10"
CONFIG_NET_CONFIG_MY_IPV4_NETMASK="255.255.255.0"
CONFIG_NET_CONFIG_PEER_IPV4_ADDR="192.168.137.2"

# ================================================
# 3. RANDOM
# ================================================
CONFIG_ENTROPY_GENERATOR=y
CONFIG_TEST_RANDOM_GENERATOR=y

# ================================================
# 4. MEMOIRE
# ================================================
CONFIG_HEAP_MEM_POOL_SIZE=16384 
CONFIG_MAIN_STACK_SIZE=16384
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096
CONFIG_ISR_STACK_SIZE=2048

# ================================================
# 5. LOGS
# ================================================
CONFIG_LOG=y
CONFIG_SDMMC_LOG_LEVEL_INF=y
CONFIG_FS_LOG_LEVEL_INF=y
CONFIG_MQTT_LOG_LEVEL_INF=y

# ================================================
# 6. ECRAN & LVGL
# ================================================
CONFIG_DISPLAY=y
CONFIG_LVGL=y
CONFIG_LV_Z_MEM_POOL_SIZE=65536
CONFIG_LV_FONT_MONTSERRAT_20=y

# ================================================
# 7. PERIPHERIQUES DE BASE
# ================================================
CONFIG_GPIO=y
CONFIG_SPI=y
CONFIG_I2C=y

# ================================================
# 8. CRYPTO
# ================================================
CONFIG_TINYCRYPT=y
CONFIG_TINYCRYPT_SHA256=y
CONFIG_TINYCRYPT_SHA256_HMAC=y

# ================================================
# 9. CAPTEURS (BME680) - AJOUT POUR METEO
# ================================================
# Active l'API générique des capteurs
CONFIG_SENSOR=y

# Active le driver spécifique Bosch BME680
CONFIG_BME680=y

# Permet d'utiliser printf avec des nombres décimaux (utile pour la température précise)
CONFIG_CBPRINTF_FP_SUPPORT=y